package com.diegotomfurtado.liferayInterviewChallangeBDD.steps;

import static org.hamcrest.CoreMatchers.containsString;

import org.junit.After;
import org.junit.Assert;
import org.openqa.selenium.WebDriver;

import com.diegotomfurtado.liferayInterviewChallangeBDD.pages.LiferayFormsPage;
import com.diegotomfurtado.liferayInterviewChallangeBDD.utils.SetUp;

import cucumber.api.java.en.Given;
import cucumber.api.java.en.Then;
import cucumber.api.java.en.When;

public class CheckElementOnPageSteps {
	
	private WebDriver browser;
	String label;
	LiferayFormsPage liferayFormsPage = new LiferayFormsPage(browser);
	
	@After
	public void teardown() {
		browser.close();
		browser.quit();
	}
	
	@Given("^a user is on home page\\.$")
	public void aUserIsOnHomePage() throws Throwable {
		
		browser = SetUp.setUp();
	}

	@When("^a user looks at the left side from the Forms page$")
	public void aUserLooksAtTheLeftSideFromTheFormsPage() throws Throwable {
		
		label = liferayFormsPage
				.isPartyRockLabelVisible();
	}

	@Then("^a user should see a message \"([^\"]*)\"$")
	public void aUserShouldSeeAMessage(String name) throws Throwable {

		Assert.assertThat(label, containsString(name));
	}
}
